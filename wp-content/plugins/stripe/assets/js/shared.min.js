/*! WP Simple Pay Lite for Stripe - 2.0.11
 * https://wpsimplepay.com/
 * Copyright (c) Moonstone Media Group 2018
 * Licensed GPLv2+ */

var spShared={};!function(n){"use strict";var r;spShared={init:function(){(r=n(document.body)).find(".simpay-currency-format").on("blur.simpayCurrencyFormat",function(r){spShared.formatCurrencyField(n(this))}),r.find(".simpay-amount-input").on("blur.simpayValidateAmount",function(r){spShared.validateAmount(n(this))}),r.find(".simpay-currency-format").trigger("blur.simpayCurrencyFormat"),r.find(".simpay-amount-input").trigger("blur.simpayValidateAmount")},debugLog:function(n,r){"undefined"!=typeof spGeneral&&!0===spGeneral.booleans.scriptDebug&&console.log(n,r)},formatCurrencyField:function(n){n.val(function(r,a){return n.hasClass("simpay-allow-empty")&&!n.val()?"":accounting.formatMoney(accounting.unformat(a,spGeneral.strings.decimalSeparator),"",2,spGeneral.strings.thousandSeparator,spGeneral.strings.decimalSeparator)})},validateAmount:function(n){var r=spShared.unformatCurrency(n.val());if(!r||spGeneral.integers.minAmount>parseFloat(r))return n.val(""),!1;-1!==(r=r.replace(".",spGeneral.strings.decimalSeparator)).indexOf("-")&&(r=r.replace("-","")),n.val(r)},unformatCurrency:function(n){return n=accounting.unformat(n,spGeneral.strings.decimalSeparator).toString(),spGeneral.booleans.isZeroDecimal||(n=parseFloat(n).toFixed(2)),n}},n(document).ready(function(n){spShared.init()})}(jQuery);